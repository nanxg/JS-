<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

<script>
    /*  Promise ES6中新增加的内置类，为了管理异步操作
        1. new Promise() 创建实例，每个实例都可管理一个异步操作
            参数必须传一个回调函数(用来管理异步操作)，不传会报错
            回调函数内有两个参数：
                resolve: 异步成功做的事(事件队列)
                reject: 异步失败做的事(事件队列)
            new Promise时，会立即执行回调函数(Promise是同步的，.then是异步的)
        2. Promise.prototype.then()方法(还有catch、finally方法)向成功队列或失败队列依次加入要处理的事
            then方法中有两个参数(回调函数)，第一个是Promise中异步操作执行成功( resolve() )时调用，第二个是执行失败( reject() )时调用
                回调函数中的形参为Promise中成功函数或失败函数传递的实参
    
            可以链式调用then，回调函数参数为上一个then中回调函数的返回值。回调函数return一个异步操作，下一个then会等异步完成在执行
    
        3. Promise异步操作成功或失败，先把第一个then方法执行，每当执行一个then，会返回一个新的Promise实例，这个实例管控的是上一个then中的方法执行的成功还是失败
    
        4. Promise.prototype.catch()方法
            Promise实例执行失败调用catch方法
            执行后会返回一个新的Promise实例 管控上一个实例与兄弟then
        
        建议不使用then中的第二个方法，而是使用catch方法代替
    
        5. finally：Promise异步完成调用(实例成功失败都会走它)
    

        JS中的异常捕获->把抛出异常的错误捕获到，不让其阻断浏览器继续执行
            try {
                // 正常执行的代码(可能会报错)
            } catch{
                // try中代码报错了会执行catch
            } finally {
                // try中代码执行完毕就会执行finally
            }

    */


    let prom = new Promise((resolve, reject) => {
        resolve(res);
        reject(rej);
        
    });
    prom.then(
        res => {

        },
        rej => {

        }
    ).then()

</script>
</body>

</html>