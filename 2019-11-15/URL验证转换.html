<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>URL验证转换</title>
</head>
<body>
    <script>

    /*
        (http)s?

        :// -> :\/\/  转义

        www -> w{3}

        . -> \.     转义

        baidu或zhufengpeixun -> [a-z]{2,18}  

        .com|.cn|.net|.com.cn|.org -> (\.[a-z]{2,3}){1,2}

        /dsdsa? -> \/[a-z]{1,10}\?

        ie=utf-8&f=8&rsv_bp=1&

        (([a-z]\w{0,10})=([\w\W]+)&?)+

    */

    let str = 'https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=js';

    let str2 = 'ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=js%20全角转半角%20正则&oq=%25E5%2585%25A8%25E8%25A7%2592%25E8%25BD%25AC%25E5%258D%258A%25E8%25A7%2592%2520%25E6%25AD%25A3%25E5%2588%2599&rsv_pq=ed9277970000f747&rsv_t=719cvLoB2Cy7pOW4%2F1hf3xOXnlRxJsSEPLA5xAfCoQ5RkeA6ruGTQ0OPjo4';

    //验证的是是否为一个合法的url
    let rr=/^(http)s?:\/\/w{3}\.[a-z]{2,18}(\.[a-z]{2,3}){1,2}\/[a-z]{1,10}\?(([a-z]\w{0,10})=([\w=%-]+)&?)+$/

    //queryURLParams
    let re = /([a-z]\w{0,10})=([\w=%-]+)/g;
    let obj = {};
    // str2.replace(re,(...arg)=>{ //把$0,$1...收进数组arg
    //     let a = arg[1];  //等号左边
    //     let b = arg[2];  //等号右边
    //     obj[a] = b;      //组建键值对放到obj
    // });
    
    str2.replace(re,($0,$1,$2)=>{
        obj[$1]=$2
    })
    
    console.log(obj);

    
    </script>
</body>
</html>
